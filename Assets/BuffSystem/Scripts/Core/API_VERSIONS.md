# BuffSystem API ç‰ˆæœ¬æ–‡æ¡£

> æœ¬æ–‡æ¡£è®°å½•BuffSystemæ‰€æœ‰å…¬å…±APIçš„ç¨³å®šæ€§çŠ¶æ€å’Œç‰ˆæœ¬å†å²
> æœ€åæ›´æ–°: v7.0

---

## ğŸ“Š APIç¨³å®šæ€§å›¾ä¾‹

| å›¾æ ‡ | çº§åˆ« | è¯´æ˜ |
|------|------|------|
| ğŸ”’ | Stable | ç¨³å®šAPI - ä¿è¯å‘åå…¼å®¹ |
| ğŸ‘ï¸ | Preview | é¢„è§ˆç‰ˆAPI - åŸºæœ¬ç¨³å®šä½†å¯èƒ½æœ‰å°è°ƒæ•´ |
| ğŸ”¬ | Experimental | å®éªŒæ€§API - å¯èƒ½éšæ—¶æ›´æ”¹ |
| âš ï¸ | Deprecated | å·²å¼ƒç”¨ - å°†åœ¨æœªæ¥ç‰ˆæœ¬ç§»é™¤ |

---

## ğŸ”’ ç¨³å®šAPI (v6.0+)

ä»¥ä¸‹APIä»v6.0å¼€å§‹ä¿è¯å‘åå…¼å®¹ï¼Œåªå…è®¸bugä¿®å¤ï¼Œä¸å…è®¸ç ´åæ€§å˜æ›´ã€‚

### æ ¸å¿ƒæ¥å£

#### `IBuff`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/IBuff.cs`
- **è¯´æ˜**: Buffå®ä¾‹æ¥å£ï¼Œè¿è¡Œæ—¶Buffå®ä½“çš„æŠ½è±¡

#### `IBuffOwner`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/IBuffOwner.cs`
- **è¯´æ˜**: BuffæŒæœ‰è€…æ¥å£ï¼Œè§£è€¦MonoBehaviourä¾èµ–

### æ ¸å¿ƒAPIç±»

#### `BuffApi`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/BuffApi.cs`
- **è¯´æ˜**: Buffç³»ç»Ÿå¯¹å¤–APIï¼Œæä¾›ç®€æ´çš„Buffæ“ä½œæ¥å£

### è¿è¡Œæ—¶ç»„ä»¶

#### `BuffOwner`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Runtime/BuffOwner.cs`
- **è¯´æ˜**: BuffæŒæœ‰è€…ç»„ä»¶ï¼ŒMonoBehaviouré€‚é…å™¨

#### `BuffEntity`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Runtime/BuffEntity.cs`
- **è¯´æ˜**: Buffå®ä½“ç±»ï¼Œå®ç°IBuffæ¥å£

#### `BuffContainer`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Runtime/BuffContainer.cs`
- **è¯´æ˜**: Buffå®¹å™¨å®ç°ï¼Œç®¡ç†æŒæœ‰è€…çš„æ‰€æœ‰Buff

### æ•°æ®ç±»å‹

#### `IBuffData`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/IBuffData.cs`
- **è¯´æ˜**: Buffæ•°æ®æ¥å£ï¼Œå®šä¹‰Buffé…ç½®æ•°æ®ç»“æ„

#### `BuffStackMode` (æšä¸¾)
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/IBuffData.cs`
- **è¯´æ˜**: Buffå±‚æ•°å åŠ æ¨¡å¼

#### `BuffRemoveMode` (æšä¸¾)
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/IBuffData.cs`
- **è¯´æ˜**: Buffç§»é™¤æ¨¡å¼

#### `BuffEventType` (æšä¸¾)
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Core/BuffEventType.cs`
- **è¯´æ˜**: Buffäº‹ä»¶ç±»å‹æšä¸¾

#### `UpdateMode` (æšä¸¾)
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v1.0-v6.0 é€æ­¥å®Œå–„
- **æ–‡ä»¶**: `Data/UpdateMode.cs`
- **è¯´æ˜**: Buffæ›´æ–°æ¨¡å¼

#### `UpdateFrequency` (æšä¸¾)
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v6.0 æ–°å¢
- **æ–‡ä»¶**: `Data/UpdateFrequency.cs`
- **è¯´æ˜**: åˆ†å±‚æ›´æ–°é¢‘ç‡

### æ€§èƒ½ä¼˜åŒ–ç»„ä»¶

#### `BuffContainerNativeArray`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v6.0 æ–°å¢ - NativeArrayé›†æˆ
- **æ–‡ä»¶**: `Runtime/BuffContainerNativeArray.cs`
- **è¯´æ˜**: ä½¿ç”¨NativeArrayä¼˜åŒ–çš„Buffå®¹å™¨

#### `FrequencyBasedUpdater`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v6.0 æ–°å¢ - æ”¯æŒè‡ªåŠ¨é¢‘ç‡åˆ†é…
- **æ–‡ä»¶**: `Runtime/FrequencyBasedUpdater.cs`
- **è¯´æ˜**: åŸºäºé¢‘ç‡çš„åˆ†å±‚æ›´æ–°ç®¡ç†å™¨

#### `FrequencyAssigner`
- **ç¨³å®šç‰ˆæœ¬**: v6.0+
- **ç‰ˆæœ¬å†å²**: v6.0 æ–°å¢
- **æ–‡ä»¶**: `Runtime/FrequencyAssigner.cs`
- **è¯´æ˜**: æ›´æ–°é¢‘ç‡åˆ†é…å™¨

---

## ğŸ‘ï¸ é¢„è§ˆç‰ˆAPI (v7.0+)

ä»¥ä¸‹APIåœ¨v7.0ä¸­æ–°å¢ï¼ŒåŸºæœ¬ç¨³å®šä½†å¯èƒ½æœ‰å°è°ƒæ•´ã€‚

### ç»Ÿä¸€å…¥å£

#### `BuffSystemManager`
- **å¼•å…¥ç‰ˆæœ¬**: v7.0
- **ç‰ˆæœ¬å†å²**: v7.0 æ–°å¢ - ç»Ÿä¸€Managerå…¥å£
- **æ–‡ä»¶**: `Core/BuffSystemManager.cs`
- **è¯´æ˜**: BuffSystemç»Ÿä¸€å…¥å£ç®¡ç†å™¨ï¼Œç®¡ç†æ‰€æœ‰å­ç®¡ç†å™¨çš„ç”Ÿå‘½å‘¨æœŸ
- **è®¿é—®æ–¹å¼**:
  ```csharp
  BuffSystemManager.Combo      // è®¿é—®Comboç®¡ç†å™¨
  BuffSystemManager.Fusion     // è®¿é—®èåˆç®¡ç†å™¨
  BuffSystemManager.Transmission // è®¿é—®ä¼ æ’­ç®¡ç†å™¨
  ```

### é«˜çº§ç³»ç»Ÿå‘½åç©ºé—´

ä»¥ä¸‹ç±»å‹å·²è¿ç§»åˆ° `BuffSystem.Advanced` å‘½åç©ºé—´ï¼š

#### `BuffComboManager`
- **å¼•å…¥ç‰ˆæœ¬**: v7.0
- **ç‰ˆæœ¬å†å²**: v7.0 å‘½åç©ºé—´é‡æ„
- **æ–‡ä»¶**: `Advanced/Combo/BuffComboManager.cs`
- **è¯´æ˜**: Comboç³»ç»Ÿç®¡ç†å™¨

#### `FusionManager`
- **å¼•å…¥ç‰ˆæœ¬**: v7.0
- **ç‰ˆæœ¬å†å²**: v7.0 å‘½åç©ºé—´é‡æ„
- **æ–‡ä»¶**: `Advanced/Fusion/FusionManager.cs`
- **è¯´æ˜**: Buffèåˆç®¡ç†å™¨

#### `TransmissionManager`
- **å¼•å…¥ç‰ˆæœ¬**: v7.0
- **ç‰ˆæœ¬å†å²**: v7.0 å‘½åç©ºé—´é‡æ„
- **æ–‡ä»¶**: `Advanced/Transmission/TransmissionManager.cs`
- **è¯´æ˜**: Buffä¼ æ’­ç®¡ç†å™¨

---

## ğŸ”¬ å®éªŒæ€§API

æš‚æ— å®éªŒæ€§APIã€‚

---

## âš ï¸ å·²å¼ƒç”¨API

### v7.0 å¼ƒç”¨

#### æ—§å‘½åç©ºé—´ (v6.x)
- **å¼ƒç”¨ç‰ˆæœ¬**: v7.0
- **è®¡åˆ’ç§»é™¤**: v8.0
- **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨ `BuffSystem.Advanced` å‘½åç©ºé—´
- **å…¼å®¹æ€§**: å®šä¹‰ `BUFFSYSTEM_COMPATIBILITY_V6` ç¬¦å·å¯ä½¿ç”¨æ—§å‘½åç©ºé—´

| æ—§å‘½åç©ºé—´ | æ–°å‘½åç©ºé—´ |
|-----------|-----------|
| `BuffSystem.Combo` | `BuffSystem.Advanced.Combo` |
| `BuffSystem.Fusion` | `BuffSystem.Advanced.Fusion` |
| `BuffSystem.Transmission` | `BuffSystem.Advanced.Transmission` |
| `BuffSystem.Area` | `BuffSystem.Advanced.Area` |
| `BuffSystem.Snapshot` | `BuffSystem.Advanced.Snapshot` |

#### Managerå•ä¾‹è®¿é—®æ–¹å¼
- **å¼ƒç”¨ç‰ˆæœ¬**: v7.0
- **è®¡åˆ’ç§»é™¤**: v8.0
- **æ›¿ä»£æ–¹æ¡ˆ**: ä½¿ç”¨ `BuffSystemManager` ç»Ÿä¸€è®¿é—®

| æ—§è®¿é—®æ–¹å¼ | æ–°è®¿é—®æ–¹å¼ |
|-----------|-----------|
| `BuffComboManager.Instance` | `BuffSystemManager.Combo` |
| `FusionManager.Instance` | `BuffSystemManager.Fusion` |
| `TransmissionManager.Instance` | `BuffSystemManager.Transmission` |

---

## ğŸ”„ ç‰ˆæœ¬è¿ç§»æŒ‡å—

### ä» v6.x è¿ç§»åˆ° v7.0

1. **å‘½åç©ºé—´æ›´æ–°** (å¯é€‰)
   ```csharp
   // æ—§ä»£ç 
   using BuffSystem.Combo;
   
   // æ–°ä»£ç 
   using BuffSystem.Advanced.Combo;
   ```
   æˆ–å¯ç”¨å…¼å®¹æ¨¡å¼ï¼šåœ¨Project Settingsä¸­å®šä¹‰ `BUFFSYSTEM_COMPATIBILITY_V6`

2. **Managerè®¿é—®æ›´æ–°** (å¯é€‰)
   ```csharp
   // æ—§ä»£ç 
   BuffComboManager.Instance.RegisterCombo(data);
   
   // æ–°ä»£ç 
   BuffSystemManager.Combo.RegisterCombo(data);
   ```
   æ—§è®¿é—®æ–¹å¼ä»ç„¶å¯ç”¨ï¼Œä½†ä¼šæ˜¾ç¤ºObsoleteè­¦å‘Šã€‚

---

## ğŸ“ ä¿®æ”¹ç­–ç•¥è¯´æ˜

### Stable API
- âœ… å…è®¸ï¼šBugä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–ã€å†…éƒ¨é‡æ„
- âŒ ç¦æ­¢ï¼šç§»é™¤æ–¹æ³•ã€ä¿®æ”¹æ–¹æ³•ç­¾åã€ä¿®æ”¹è¡Œä¸º
- âš ï¸ ä¾‹å¤–ï¼šå®‰å…¨æ¼æ´ä¿®å¤å¯èƒ½éœ€è¦ç ´åæ€§å˜æ›´

### Preview API
- âœ… å…è®¸ï¼šBugä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–ã€å°è°ƒæ•´
- âš ï¸ è°¨æ…ï¼šå°½é‡é¿å…ç ´åæ€§å˜æ›´
- ğŸ“¢ é€šçŸ¥ï¼šé‡å¤§å˜æ›´ä¼šåœ¨æ›´æ–°æ—¥å¿—ä¸­è¯´æ˜

### Experimental API
- ğŸ”¬ éšæ—¶å¯èƒ½æ›´æ”¹
- ä¸å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨
- æ¬¢è¿æä¾›åé¦ˆ

### Deprecated API
- âš ï¸ å·²æ ‡è®°å¼ƒç”¨
- å»ºè®®å°½å¿«è¿ç§»åˆ°æ–°API
- å°†åœ¨æŒ‡å®šç‰ˆæœ¬ç§»é™¤

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æ¨èä¼˜åŒ–æµç¨‹v7.0](../å®¡æŸ¥æŠ¥å‘Šä¸ä¼˜åŒ–æ¨è/ä¼˜åŒ–7/æ¨èä¼˜åŒ–æµç¨‹v7.0.md)
- [æ¶æ„è®¾è®¡æ–‡æ¡£](../æ–‡æ¡£/æ¶æ„è®¾è®¡.md)
- [ä½¿ç”¨æŒ‡å—](../æ–‡æ¡£/ä½¿ç”¨æŒ‡å—.md)

---

## ğŸ’¬ åé¦ˆ

å¦‚æœ‰å…³äºAPIç¨³å®šæ€§çš„ç–‘é—®æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»ç»´æŠ¤å›¢é˜Ÿã€‚
