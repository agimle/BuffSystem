# 检查顺序

**生成时间**: 2026-02-13
**审查策略**: 依赖优先 + 层级顺序

---

## 审查优先级队列

### 优先级 1: 核心接口和基类 (Foundation)

这些文件是整个系统的基础，必须最先审查。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 1 | Core/IBuff.cs | 0 | ✅ |
| 2 | Core/IBuffData.cs | 0 | ✅ |
| 3 | Core/IBuffLogic.cs | 0 | ✅ |
| 4 | Core/IEffect.cs | 0 | ✅ |
| 5 | Core/IBuffOwner.cs | 0 | ✅ |
| 6 | Core/BuffEventType.cs | 0 | ✅ |
| 7 | Core/EffectBase.cs | 1 | ✅ |
| 8 | Core/BuffLogicBase.cs | 1 | ✅ |
| 9 | Core/EffectBasedBuffLogic.cs | 2 | ✅ |
| 10 | Core/IBuffCondition.cs | 0 | ✅ |
| 11 | Core/ConditionGroup.cs | 1 | ✅ |
| 12 | Core/IBuffSerializable.cs | 0 | ✅ |

### 优先级 2: 数据层 (Data)

数据配置和数据库，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 13 | Data/BuffId.cs | 0 | ✅ |
| 14 | Data/BuffTag.cs | 0 | ✅ |
| 15 | Data/BuffTagManager.cs | 0 | ✅ |
| 16 | Data/UpdateFrequency.cs | 0 | ✅ |
| 17 | Data/UpdateMode.cs | 0 | ✅ |
| 18 | Data/BuffSystemConfig.cs | 2 | ✅ |
| 19 | Data/BuffDataSO.cs | 5 | ✅ |
| 20 | Data/BuffDatabase.cs | 2 | ✅ |
| 21 | Data/BuffDataCenter.cs | 1 | ✅ |
| 22 | Data/BuffTemplate.cs | 2 | ✅ |
| 23 | Data/SubclassSelectorAttribute.cs | 0 | ✅ |

### 优先级 3: 工具类 (Utils)

通用工具类，依赖最少。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 24 | Utils/ObjectPool.cs | 0 | ✅ |
| 25 | Utils/BuffQueryHelper.cs | 3 | ✅ |

### 优先级 4: 策略模式 (Strategy)

策略实现，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 26 | Strategy/BuffStrategy.cs | 3 | ✅ |

### 优先级 5: 事件系统 (Events)

事件系统，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 27 | Events/BuffEventArgsPool.cs | 1 | ✅ |
| 28 | Events/BuffEventSystem.cs | 2 | ✅ |

### 优先级 6: 运行时核心 (Runtime Core)

运行时核心实现，依赖核心接口和数据层。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 29 | Runtime/BuffDataStruct.cs | 0 | ✅ |
| 30 | Runtime/BuffDataWrapper.cs | 3 | ✅ |
| 31 | Runtime/BuffEntity.cs | 6 | ✅ |
| 32 | Runtime/BuffContainer.cs | 8 | ✅ |
| 33 | Runtime/BuffContainerOptimized.cs | 5 | ✅ |
| 34 | Runtime/BuffContainerNativeArray.cs | 5 | ✅ |
| 35 | Runtime/BuffOwner.cs | 7 | ✅ |
| 36 | Runtime/BuffSystemUpdater.cs | 4 | ✅ |
| 37 | Runtime/FrequencyBasedUpdater.cs | 3 | ✅ |
| 38 | Runtime/FrequencyAssigner.cs | 2 | ✅ |
| 39 | Runtime/BuffSaveManager.cs | 4 | ✅ |
| 40 | Runtime/BuffPerformanceMonitor.cs | 3 | ✅ |

### 优先级 7: 高级功能 - Combo (Advanced/Combo)

Combo 系统，依赖运行时核心。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 41 | Advanced/Combo/ComboEffectType.cs | 0 | ✅ |
| 42 | Advanced/Combo/ComboEffect.cs | 1 | ✅ |
| 43 | Advanced/Combo/BuffComboData.cs | 2 | ✅ |
| 44 | Advanced/Combo/BuffComboEventSystem.cs | 2 | ✅ |
| 45 | Advanced/Combo/BuffComboManager.cs | 5 | ✅ |

### 优先级 8: 高级功能 - Fusion (Advanced/Fusion)

Fusion 系统，依赖运行时核心。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 46 | Advanced/Fusion/IBuffFusion.cs | 0 | ✅ |
| 47 | Advanced/Fusion/FusionConditions.cs | 2 | ✅ |
| 48 | Advanced/Fusion/FusionEventSystem.cs | 2 | ✅ |
| 49 | Advanced/Fusion/FusionManager.cs | 4 | ✅ |

### 优先级 9: 高级功能 - Transmission (Advanced/Transmission)

Transmission 系统，依赖运行时核心。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 50 | Advanced/Transmission/IBuffTransmissible.cs | 0 | ✅ |
| 51 | Advanced/Transmission/TransmissionEventSystem.cs | 2 | ✅ |
| 52 | Advanced/Transmission/TransmissionManager.cs | 4 | ✅ |
| 53 | Advanced/Transmission/Modes/ChainTransmission.cs | 2 | ✅ |
| 54 | Advanced/Transmission/Modes/ContactTransmission.cs | 2 | ✅ |

### 优先级 10: 高级功能 - Snapshot (Advanced/Snapshot)

Snapshot 系统，依赖运行时核心。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 55 | Advanced/Snapshot/BuffSnapshot.cs | 3 | ✅ |
| 56 | Advanced/Snapshot/SnapshotHelper.cs | 2 | ✅ |
| 57 | Advanced/Snapshot/BuffSnapshotManager.cs | 3 | ✅ |

### 优先级 11: 高级功能 - Area (Advanced/Area)

Area 系统，依赖运行时核心。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 58 | Advanced/Area/BuffArea.cs | 3 | ✅ |
| 59 | Advanced/Area/BuffAreaManager.cs | 4 | ✅ |

### 优先级 12: 效果系统 (Effects)

效果实现，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 60 | Effects/Core/DelayEffect.cs | 2 | ✅ |
| 61 | Effects/Core/PlayAnimationEffect.cs | 2 | ✅ |
| 62 | Effects/Core/PlaySoundEffect.cs | 2 | ✅ |
| 63 | Effects/Core/SpawnEffect.cs | 2 | ✅ |
| 64 | Effects/Core/TriggerEventEffect.cs | 2 | ✅ |

### 优先级 13: 分组系统 (Groups)

分组系统，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 65 | Groups/IBuffGroup.cs | 0 | ✅ |
| 66 | Groups/BuffGroup.cs | 2 | ✅ |

### 优先级 14: 修饰器系统 (Modifiers)

修饰器系统，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 67 | Modifiers/IBuffModifier.cs | 0 | ✅ |
| 68 | Modifiers/BuffModifier.cs | 1 | ✅ |

### 优先级 15: 网络同步 (Networking)

网络同步，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 69 | Networking/IBuffNetworkSync.cs | 0 | ✅ |
| 70 | Networking/Mirror/BuffMirrorSync.cs | 2 | ✅ |
| 71 | Networking/Netcode/BuffNetcodeSync.cs | 2 | ✅ |

### 优先级 16: 流式 API (Fluent)

流式 API，依赖核心接口。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 72 | Fluent/BuffBuilder.cs | 4 | ✅ |
| 73 | Fluent/BuffBuilderExtensions.cs | 3 | ✅ |

### 优先级 17: 核心 API (Core API)

核心 API，依赖所有层级。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 74 | Core/BuffApi.cs | 6 | ✅ |
| 75 | Core/BuffSystemManager.cs | 5 | ✅ |
| 76 | Core/ApiStabilityAttribute.cs | 0 | ✅ |

### 优先级 18: 编辑器扩展 (Editor)

编辑器扩展，依赖所有层级。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 77 | Editor/BuffSystemMenu.cs | 3 | ✅ |
| 78 | Editor/BuffOwnerEditor.cs | 2 | ✅ |
| 79 | Editor/BuffDataSOEditor.cs | 2 | ✅ |
| 80 | Editor/BuffConfigValidator.cs | 2 | ✅ |
| 81 | Editor/BuffSystemDebugger.cs | 4 | ✅ |
| 82 | Editor/ApiDocumentationGenerator.cs | 3 | ✅ |
| 83 | Editor/PerformanceTestEditor.cs | 2 | ✅ |

### 优先级 19: 测试 (Tests)

测试代码，依赖所有层级。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 84 | Tests/BuffPerformanceTestBase.cs | 2 | ✅ |
| 85 | Tests/BuffSystemPerformanceTests.cs | 2 | ✅ |
| 86 | Tests/ExamplePerformanceTest.cs | 2 | ✅ |
| 87 | Tests/BenchmarkRunner.cs | 2 | ✅ |
| 88 | Tests/PerformanceReportGenerator.cs | 2 | ✅ |

### 优先级 20: 兼容性 (Compatibility)

兼容性代码。

| 序号 | 文件路径 | 依赖数 | 状态 |
|------|---------|--------|------|
| 89 | Advanced/_Compatibility/NamespaceAliases.cs | 0 | ✅ |

---

## 审查统计

- **总文件数**: 91
- **已审查**: 91
- **完成率**: 100%

## 依赖图说明

### 核心依赖链

```
IBuff ← BuffEntity ← BuffContainer ← BuffOwner
IBuffData ← BuffDataSO
IBuffLogic ← BuffLogicBase ← EffectBasedBuffLogic
IEffect ← EffectBase
```

### 层级依赖

```
Core (接口层)
  ↓
Data (数据层)
  ↓
Utils (工具层)
  ↓
Strategy (策略层)
  ↓
Events (事件层)
  ↓
Runtime (运行时层)
  ↓
Advanced (高级功能层)
  ↓
Effects (效果层)
  ↓
Groups (分组层)
  ↓
Modifiers (修饰器层)
  ↓
Networking (网络层)
  ↓
Fluent (流式 API 层)
  ↓
Core API (核心 API 层)
  ↓
Editor (编辑器层)
  ↓
Tests (测试层)
```

---

**审查完成时间**: 2026-02-13
